<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BOMBA</title>
</head>
<body>
    <h1 id="efeito"></h1>
    <h3 id="status"></h3>
    <div id="contagem"></div>
    <h3 id="cabum"></h3>
</body>
<script>
    const efeito = document.getElementById("efeito");
    const status = document.getElementById("status");
    const contagem = document.getElementById("contagem");
    const cabum = document.getElementById("cabum");

    let resposta, i;
    do {
        resposta = prompt("Armar a bomba? Digite 'sim' ou 'não'").toLowerCase();
        if ((resposta !== "sim") && (resposta !== "não"))
            alert("Resposta inválida. Digite 'sim' ou 'não'")
    } while((resposta !== "sim") && (resposta !== "não"))

    async function explodir(x) {
        efeito.innerHTML = "PREPARANDO BOMBA";
        await sleep(700);
        efeito.innerHTML = "PREPARANDO BOMBA.";
        await sleep(700);
        efeito.innerHTML = "PREPARANDO BOMBA..";
        await sleep(700);
        efeito.innerHTML = "PREPARANDO BOMBA...";
        await sleep(700);
        if (resposta === "sim") {
            status.innerHTML = "BOMBA ARMADA";
            for (i = x; i >= 0; i--) {
                contagem.innerHTML = `Faltam ${i} segundos`;
                await sleep(1000);
                if (i === 0) {
                    contagem.innerHTML = "";
                    cabum.innerHTML = "BOMBA EXPLODIU";
                }
            }
        }
        else
            status.innerHTML = "BOMBA NÃO FOI ARMADA";
    }

    function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms))
    }

    explodir(10);

</script>
</html>